#!/bin/bash
# Quick Deployment Commands for VPS
# Copy and paste these commands into your VPS terminal

echo "=========================================="
echo "MyArteLab VPS Deployment"
echo "=========================================="
echo ""
echo "Run these commands on your VPS:"
echo ""
echo "# 1. SSH to VPS"
echo "ssh root@165.232.178.102"
echo ""
echo "# 2. Navigate to project directory"
echo "cd /var/www/myartelab/backend"
echo ""
echo "# 3. Pull latest code"
echo "git pull origin main"
echo ""
echo "# 4. Install dependencies"
echo "npm install --production"
echo ""
echo "# 5. Add UPLOAD_DIR to .env"
echo "if ! grep -q 'UPLOAD_DIR' .env; then echo 'UPLOAD_DIR=/var/www/myartelab/backend/uploads' >> .env; fi"
echo ""
echo "# 6. Update Zoho password"
echo "sed -i 's/EMAIL_PASSWORD=.*/EMAIL_PASSWORD=B09kSRmLv03i/' .env"
echo ""
echo "# 7. Add Gas Sponsor Wallet"
echo "sed -i 's|GAS_SPONSOR_WALLET=.*|GAS_SPONSOR_WALLET=CpFf7PMWhbgVgyL1spwP6mzNRJCsi7GRskyCsu6W59UJ|' .env"
echo "sed -i 's|GAS_SPONSOR_PRIVATE_KEY=.*|GAS_SPONSOR_PRIVATE_KEY=[226,161,9,165,66,146,30,81,119,63,187,161,233,71,189,32,120,133,71,154,141,52,146,87,207,223,166,144,54,43,57,220,175,139,109,81,28,232,164,118,196,21,94,248,29,228,53,242,63,197,71,183,81,135,16,161,184,99,158,158,91,176,231,223]|' .env"
echo "if ! grep -q 'GAS_SPONSOR_SEED' .env; then sed -i '/GAS_SPONSOR_PRIVATE_KEY/a GAS_SPONSOR_SEED=obscure letter obvious truth lion empower odor own tape panic drop palm' .env; fi"
echo ""
echo "# 8. Create upload directories"
echo "mkdir -p /var/www/myartelab/backend/uploads/{avatars,covers,portfolio,services}"
echo "chown -R www-data:www-data /var/www/myartelab/backend/uploads"
echo "chmod -R 755 /var/www/myartelab/backend/uploads"
echo ""
echo "# 9. Restart PM2"
echo "pm2 restart myartelab"
echo ""
echo "# 10. Check status"
echo "pm2 logs myartelab --lines 50"
echo ""
echo "=========================================="
